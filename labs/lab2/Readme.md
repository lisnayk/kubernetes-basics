# üìò –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ2

# –ü—Ä–æ—Å—Ç–æ—Ä–∏ —ñ–º–µ–Ω (Namespace) —Ç–∞ –¥–µ—Ç–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –æ–±'—î–∫—Ç–æ–º Pod

------------------------------------------------------------------------

## üéØ –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

-   –û–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º —ñ–∑–æ–ª—è—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤ —á–µ—Ä–µ–∑ Namespace\
-   –ù–∞–≤—á–∏—Ç–∏—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç–æ—Ä–∏ —ñ–º–µ–Ω\
-   –î–æ—Å–ª—ñ–¥–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª Pod\
-   –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ YAML-–º–∞–Ω—ñ—Ñ–µ—Å—Ç–∞–º–∏\
-   –ù–∞–≤—á–∏—Ç–∏—Å—è –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω Pod —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–µ–±–∞–≥

------------------------------------------------------------------------

# üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞

## 1Ô∏è‚É£ Namespace

Namespace --- —Ü–µ –ª–æ–≥—ñ—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º —ñ–∑–æ–ª—è—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤ —É –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ
Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä–∞.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:

-   —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â (dev / test / prod)
-   —ñ–∑–æ–ª—è—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–∞–Ω–¥
-   –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è ResourceQuota
-   —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ —ñ–º–µ–Ω

Pod –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ —ñ–º–µ–Ω–∞–º–∏ –º–æ–∂—É—Ç—å —ñ—Å–Ω—É–≤–∞—Ç–∏ –≤ —Ä—ñ–∑–Ω–∏—Ö namespace.

------------------------------------------------------------------------

## 2Ô∏è‚É£ Pod

Pod --- –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ Kubernetes.

Pod –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏:

-   –æ–¥–∏–Ω –∞–±–æ –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
-   —Å–ø—ñ–ª—å–Ω—É IP-–∞–¥—Ä–µ—Å—É
-   —Å–ø—ñ–ª—å–Ω–∏–π localhost
-   —Å–ø—ñ–ª—å–Ω—ñ —Ç–æ–º–∏ (volumes)

Pod —î —Ç–∏–º—á–∞—Å–æ–≤–∏–º –æ–±'—î–∫—Ç–æ–º. –Ø–∫—â–æ Pod —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
(Deployment, ReplicaSet), –≤—ñ–Ω –Ω–µ –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∏–π –ø—ñ—Å–ª—è
–≤–∏–¥–∞–ª–µ–Ω–Ω—è.

------------------------------------------------------------------------

# üß™ –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞

## üîπ –ó–∞–≤–¥–∞–Ω–Ω—è 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Namespace

``` bash
kubectl create namespace lab2
kubectl get namespaces
kubectl config set-context --current --namespace=lab2
```

------------------------------------------------------------------------

## üîπ –ó–∞–≤–¥–∞–Ω–Ω—è 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Pod —ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º

``` bash
kubectl run nginx-pod --image=nginx --restart=Never
kubectl get pods
```

------------------------------------------------------------------------

# üìÑ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è YAML-—à–∞–±–ª–æ–Ω—É Pod

## –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —à–∞–±–ª–æ–Ω—É YAML

``` bash
kubectl run nginx-yaml   --image=nginx   --restart=Never   --dry-run=client   -o yaml > pod.yaml
```

–ü–µ—Ä–µ–≥–ª—è–¥ —Ñ–∞–π–ª—É:

``` bash
cat pod.yaml
```

–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:

``` bash
kubectl apply -f pod.yaml
```

------------------------------------------------------------------------

# üìë –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–Ω–æ–≥–æ –æ–ø–∏—Å—É Pod —É YAML

``` yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-custom
  namespace: lab2
  labels:
    app: nginx
    env: lab
spec:
  containers:
  - name: nginx-container
    image: nginx:latest
    ports:
    - containerPort: 80
    resources:
      requests:
        memory: "64Mi"
        cpu: "250m"
      limits:
        memory: "128Mi"
        cpu: "500m"
    livenessProbe:
      httpGet:
        path: /
        port: 80
      initialDelaySeconds: 10
      periodSeconds: 5
    readinessProbe:
      httpGet:
        path: /
        port: 80
      initialDelaySeconds: 5
      periodSeconds: 5
  restartPolicy: Always
```

------------------------------------------------------------------------

# üîé –ê–Ω–∞–ª—ñ–∑ Pod

``` bash
kubectl describe pod nginx-custom
kubectl logs nginx-custom
kubectl exec -it nginx-custom -- bash
```

------------------------------------------------------------------------

# üîπ Multi-container Pod

``` yaml
apiVersion: v1
kind: Pod
metadata:
  name: multi-container-pod
spec:
  containers:
  - name: nginx
    image: nginx
  - name: busybox
    image: busybox
    command: ["sleep", "3600"]
```

–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:

``` bash
kubectl apply -f multi.yaml
kubectl exec -it multi-container-pod -c busybox -- sh
```

------------------------------------------------------------------------

# üîπ –ê–Ω–∞–ª—ñ–∑ –ø–æ–º–∏–ª–æ–∫

``` bash
kubectl run broken-pod --image=nginx:wrongtag --restart=Never
kubectl get pods
kubectl describe pod broken-pod
```

–ú–æ–∂–ª–∏–≤—ñ —Å—Ç–∞–Ω–∏: - ImagePullBackOff - ErrImagePull

------------------------------------------------------------------------

# üìù –í–∏–º–æ–≥–∏ –¥–æ –∑–≤—ñ—Ç—É

1.  –°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ namespace\
2.  –í–º—ñ—Å—Ç YAML-—Ñ–∞–π–ª—É\
3.  –í–∏–≤—ñ–¥ `kubectl describe`\
4.  –ê–Ω–∞–ª—ñ–∑ Events\
5.  –ü–æ—è—Å–Ω–µ–Ω–Ω—è ImagePullBackOff\
6.  –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è single-container —ñ multi-container Pod\
7.  –í–∏—Å–Ω–æ–≤–∫–∏

------------------------------------------------------------------------

# üéì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1.  –©–æ —Ç–∞–∫–µ Namespace?\
2.  –ß–∏–º Pod –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞?\
3.  –©–æ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –º—ñ–∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –æ–¥–Ω–æ–≥–æ Pod?\
4.  –Ø–∫–∞ —Ä–æ–ª—å restartPolicy?\
5.  –©–æ –æ–∑–Ω–∞—á–∞—î ImagePullBackOff?\
6.  –ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è describe –≤—ñ–¥ logs?\
7.  –î–ª—è —á–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è probes?\
8.  –©–æ —Ç–∞–∫–µ resource requests —Ç–∞ limits?

------------------------------------------------------------------------

# üèÅ –í–∏—Å–Ω–æ–≤–æ–∫

–£ —Ö–æ–¥—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –±—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ namespace, —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ Pod
—ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–º —Ç–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º, –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–æ YAML-—Å—Ç—Ä—É–∫—Ç—É—Ä—É,
–ø—Ä–æ–∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª Pod —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–æ –±–∞–∑–æ–≤–∏–π –¥–µ–±–∞–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.
